test_name: quiz answers endpoint

stages:
  - name: Make sure that GET requests are disabled
    request:
      url: http://localhost:9000/v2/quiz
      method: GET
    response:
      status_code: 405
      headers:
        content-type: application/json

  - name: Make sure that quiz answers are handled
    request:
      url: http://localhost:9000/v2/quiz
      method: POST
      json:
        thesis: WOM-001-01
        uuid: test-uuid
        answer: 1
    response:
      status_code: 200
      headers:
        content-type: application/json

  - name: Make sure that quiz answers missing data return an error
    request:
      url: http://localhost:9000/v2/quiz
      method: POST
      json:
        thesis: WOM-001-01
    response:
      status_code: 422
      headers:
        content-type: application/json

  - name: Make sure that quiz answers for not existing theses return an error
    request:
      url: http://localhost:9000/v2/quiz
      method: POST
      json:
        thesis: WOM-001-99
        uuid: test-uuid
        answer: 1
    response:
      status_code: 404
      headers:
        content-type: application/json
